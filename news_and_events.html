<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>News & Events</title>
    <link rel="stylesheet" href="news_and_events.css">
</head>
<body onload="renderNews()">
  <header>
    <nav>
      <h1>MAKERSPACE LAB</h1>
      <div class="topnav">
        <div class="nav-menu">
          <a href="index.html">HOME</a>
          <a href="news_and_events.html">NEWS&EVENTS</a>
          <a href="resources.html">RESOURCES</a>
          <a href="#">DONATE</a>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <section class="welcome_main">
      <div class="container">
        <div class="welcome-left">
          <div class="welcome-left-text">
            <p>The Makerspace Lab Welcomes Faculty and Staff</p>
            <button class="read-more-btn">Read more</button>
          </div>
        </div>
        <div class="welcome-image-wrapper">
          <img src="img/purpose_img.jpg" alt="Welcome">
        </div>
      </div>
    </section>
    <section class="news_section">
      <h3>Join our events!</h3>
      <div id="eventContainer" class="event-container">
      </div>
    </section>
  </main>
  <footer>
  </footer>
  <script>
    function renderNews() {
      fetch("./db/news.json")
              .then(response => {
                return response.json();
              })
              .then(data => {
                let news = data.news;
                let eventContainer = document.getElementById("eventContainer");
                for(let i = 0; i < news.length; i++) {
                  eventContainer.innerHTML += `<div class="event-block">
                    <h4 class="event-title">` + news[i].title + `</h4>
                    <span class="event-time">`+ news[i].date_created + `</span>
                    <p class="event-desc">` + news[i].description + `<a href="#">Read more</a></p>
                    <button class="event-register-btn">Register now</button>
                  </div>`
                }
              });
    }
  </script>
</body>
</html>